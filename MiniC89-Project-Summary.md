# MiniC89 프로젝트 진행 정리 (v0.1)

본 문서는 사이버보안학과 신입생 교육을 목적으로 하는
**C89 부분집합 언어 MiniC89**와 그 교육 플랫폼(컴파일러, 추상머신, 온라인 저지)의
현재까지 합의된 설계 결정 사항을 정리한 문서이다.

---

## 1. 프로젝트 목표

- C 언어를 **처음 접하는 신입생**을 대상으로 함
- 실제 C89 표준과 **완전히 문법적으로 호환**
- 위험한 요소는 숨기지 않고 **위험한 채로 드러내는 교육**
- 실행 과정을 **브라우저에서 시각적으로 관찰**
- (향후) 함수 단위 문제 풀이 플랫폼으로 확장 가능

---

## 2. 언어 개요 (MiniC89)

### 2.1 기본 철학

- MiniC89는 **새로운 언어가 아니라 C89의 엄격한 부분집합**
- MiniC89로 작성된 모든 프로그램은 **유효한 C89 프로그램**
- C89에서 위험한 것은 MiniC89에서도 위험하다

---

## 3. 타입 시스템

### 3.1 정수 타입 (`int`)

- MiniC89에는 **오직 `int` 타입만 존재**
- `int`는 **정확히 8-bit, 2의 보수 표현**
- 값의 범위: **-128 ~ 127**

### 3.2 산술 연산 규칙

- 모든 산술 연산은 수학적 정수에서 계산됨
- 결과가 [-128, 127] 범위를 벗어나면 **Undefined Behavior (UB)**

#### UB 예시
- 덧셈/뺄셈/곱셈 결과 오버플로
- `-(-128)`
- `-128 / -1`
- 0으로 나누기 (`/`, `%`)
- 미초기화 변수 읽기

> **wrap-around 동작은 정의하지 않는다.**

---

## 4. 허용/금지 요소

### 4.1 허용되는 문법 요소

- `int`
- 제어문: `if`, `else`, `for`
- 점프: `return`, `break`, `continue`
- 함수 정의 및 함수 호출
- 재귀 호출

### 4.2 금지되는 요소

- 타입: `char`, `float`, `double`, `short`, `long`, `unsigned`, `signed`
- 사용자 정의 타입: `struct`, `union`, `enum`, `typedef`
- 포인터 연산: `*`, `&`
- 배열: `[]`
- 문자열 리터럴
- 전처리기 지시문: `#include`, `#define` 등
- 표준 라이브러리 함수 사용

---

## 5. 선언 규칙 (C89 엄격 준수)

- 블록(`{}`) 내부에서 **모든 변수 선언은 문장보다 앞에 위치**
- C99 스타일 선언(`for (int i=0; ...)`)은 금지

---

## 6. 입출력(I/O) 정책

- MiniC89 언어에는 **입출력 기능이 존재하지 않는다**
- `input()`, `output()` 같은 내장 함수는 제공하지 않는다
- 프로그램의 의미는 **상태 변화와 반환값**으로 관찰한다

---

## 7. 실행 모델 (교육용)

- 실행은 **추상 머신(Abstract Machine)** 위에서 이루어진다
- 실행 과정은 브라우저 환경에서 단계적으로 시각화된다

### 7.1 관찰 가능한 상태

- 프로그램 카운터(PC)
- 함수 호출 스택(Call Stack)
- 현재 스택 프레임의 지역 변수
- 조건식 평가 결과
- 반복문의 제어 흐름

---

## 8. 구현 언어 및 플랫폼

### 8.1 구현 언어
- 컴파일러, 가상 머신, 정적 분석 도구는 모두 **C 언어로 구현**

### 8.2 웹 실행
- C로 구현된 컴파일러/VM을 WASM으로 컴파일
- 브라우저에서 실행 및 시각화 제공

---

## 9. 다음 단계(예정)
- 추상 머신 ISA(바이트코드 명령 집합) 확정
- VM 상태 스냅샷 JSON 스키마 정의
- MiniC89 Lanuage Standard 정식 문서화
